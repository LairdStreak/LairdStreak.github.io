<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>jQuery.getJSON demo</title>
  <style>
  img {
    height: 100px;
    float: left;
  }
  </style>
  <script src="assets/jquery-3.1.1.min.js"></script>
</head>
<body>
 <!-- https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty -->
<div id="images"></div>
 
<script>
$(function(){

  //debugger;
  //alert('here')
  // Assign handlers immediately after making the request,
// and remember the jqxhr object for this request
var jqxhr = $.getJSON("https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty", function(data) {
  console.log( "success" );
})
  .fail(function() {
    console.log( "error" );
  })
  .always(function() {
    console.log( "complete" );
  });
 
// Perform other work here ...
 
// Set another completion function for the request above
jqxhr.done(function(data) {

  var subset = data.slice(0,20);
  //console.log( data );
  $.each(subset,function(index,item){
    //console.log(item);
    pullData(item)
  })
});
})


function pullData(item){
  var uri = "https://hacker-news.firebaseio.com/v0/item/" + item + ".json"; 
  var jqfetch = $.getJSON(uri, function(data){  }).done(function(data){
    console.log(data.url)
  })
}
</script>
 
</body>
</html>